<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hourly · Dashboard</title>
<style>
body{font-family:'Segoe UI',Tahoma,Verdana,sans-serif;background:#1B003B;color:#fff;padding:40px;}
button{padding:10px 20px;font-size:16px;cursor:pointer;}
</style>
</head>
<body>

<h1>Dashboard</h1>
<p id="welcome"></p>
<button id="logoutBtn">Cerrar sesión</button>

<script>
// Obtener valor raw
const userRaw = sessionStorage.getItem('user');

// Comprobar que sea válido y no "undefined"
if (!userRaw || userRaw === 'undefined') {
  // Si no hay sesión → volver al login
  window.location.href = 'index.html';
} else {
  // Parseamos seguro
  const user = JSON.parse(userRaw);

  // Mostrar nombre en pantalla
  document.getElementById('welcome').textContent = `Bienvenido ${user.nombre} (${user.email})`;

  // Logout seguro
  document.getElementById('logoutBtn').addEventListener('click', () => {
    sessionStorage.removeItem('user');
    window.location.href = 'index.html';
  });
}
</script>

</body>
</html>
