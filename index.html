<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hourly · Login</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body { width:100%; height:100%; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; overflow:hidden; }

  body { background: #1b003b; }
  canvas { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

  .container { position:relative; z-index:1; display:flex; width:100%; height:100%; color:#fff; }
  .left { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px; text-align:center; }
  .right { flex:1; display:flex; align-items:center; justify-content:center; }

  .login-container { background: rgba(255,255,255,0.05); backdrop-filter: blur(15px); padding:50px 35px; border-radius:15px; width:100%; max-width:400px; text-align:center; box-shadow:0 8px 30px rgba(0,0,0,0.3); }

  input { width:100%; padding:14px 15px; margin:12px 0; border:none; border-radius:10px; font-size:15px; transition: all 0.3s ease; outline:none; background: rgba(255,255,255,0.1); color:#fff; }
  input::placeholder { color: #eee; }
  input:focus { background: rgba(255,255,255,0.2); box-shadow:0 0 8px rgba(255,255,255,0.5); }

  button { width:100%; padding:15px; margin-top:20px; font-size:16px; font-weight:bold; border:none; border-radius:10px; cursor:pointer; color:#fff; background:#8e2de2; transition: all 0.3s ease; }
  button:hover { background:#c33764; transform:translateY(-2px); }
  button:active { transform:translateY(1px); }

  .error { margin-top:15px; color:#ff6b6b; font-size:14px; opacity:0; transition: opacity 0.5s ease; }
  .error.show { opacity:1; }

  .signup { margin-top:20px; font-size:13px; color:#ccc; }
  .signup a { color:#4CAF50; text-decoration:none; transition: all 0.3s ease; }
  .signup a:hover { text-decoration:underline; }

  .clock { font-size: 2.5em; font-weight: bold; margin-bottom: 20px; }

  /* SVG Logo */
  svg { width: 250px; height: 100px; margin-bottom: 20px; }

  .hourglass { transform-origin: center; animation: flip 4s infinite ease-in-out; }
  @keyframes flip { 0%,50%{transform:rotate(0deg);} 50%,100%{transform:rotate(180deg);} }

  .sand { fill: gold; animation: drop 2s infinite linear; }
  @keyframes drop { 0%{transform:scaleY(0);} 50%{transform:scaleY(1);} 100%{transform:scaleY(0);} }

  @media(max-width:900px){ .container{flex-direction:column;} .left, .right{flex:unset;width:100%;} .left{padding:20px;margin-bottom:20px;} }
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="container">
  <div class="left">
    <!-- Logo Animated -->
    <svg viewBox="0 0 300 150">
      <text x="0" y="100" font-size="80" fill="#8e2de2" font-family="Arial, sans-serif">HOURL</text>
      <g class="hourglass" transform="translate(230,70)">
        <polygon class="sand" points="-20,-40 20,-40 0,0"></polygon>
        <polygon class="sand" points="-20,40 20,40 0,0"></polygon>
        <line x1="-20" y1="-40" x2="20" y2="-40" stroke="#8e2de2" stroke-width="4"/>
        <line x1="-20" y1="40" x2="20" y2="40" stroke="#8e2de2" stroke-width="4"/>
        <line x1="-20" y1="-40" x2="0" y2="0" stroke="#8e2de2" stroke-width="4"/>
        <line x1="20" y1="-40" x2="0" y2="0" stroke="#8e2de2" stroke-width="4"/>
        <line x1="-20" y1="40" x2="0" y2="0" stroke="#8e2de2" stroke-width="4"/>
        <line x1="20" y1="40" x2="0" y2="0" stroke="#8e2de2" stroke-width="4"/>
      </g>
    </svg>

    <!-- Clock -->
    <div class="clock" id="clock">00:00:00</div>
  </div>

  <div class="right">
    <div class="login-container">
      <input type="email" id="email" placeholder="Correo electrónico" required>
      <input type="password" id="password" placeholder="Contraseña" required>
      <button id="loginBtn">Iniciar Sesión</button>
      <div class="error" id="error-msg">Error demo</div>
      <div class="signup">¿No tienes cuenta? <a href="#">Regístrate</a></div>
    </div>
  </div>
</div>

<script>
/* LOGIN DEMO */
document.getElementById('loginBtn').addEventListener('click', ()=>{
  const email=document.getElementById('email').value;
  const password=document.getElementById('password').value;
  const errorMsg=document.getElementById('error-msg');
  if(!email||!password){ errorMsg.textContent="Todos los campos son obligatorios"; errorMsg.classList.add('show'); return; }
  errorMsg.classList.remove('show');
  console.log("Email:",email,"Password:",password);
  alert("Inicio de sesión simulado. Conectar Supabase Auth aquí.");
});

/* RELOJ */
function updateClock(){
  const clock=document.getElementById('clock');
  const now=new Date();
  const h=now.getHours().toString().padStart(2,'0');
  const m=now.getMinutes().toString().padStart(2,'0');
  const s=now.getSeconds().toString().padStart(2,'0');
  const weekday=now.toLocaleDateString('es-ES',{ weekday:'long', day:'numeric', month:'long', year:'numeric' });
  clock.textContent=`${weekday} ${h}:${m}:${s}`;
}
setInterval(updateClock,1000);
updateClock();

/* CANVAS FONDO */
const canvas=document.getElementById('bg');
const ctx=canvas.getContext('2d');
let width,height;
function resize(){ width=canvas.width=window.innerWidth; height=canvas.height=window.innerHeight; }
window.addEventListener('resize',resize);
resize();

let mouse={x:width/2,y:height/2};
window.addEventListener('mousemove', e=>{ mouse.x=e.clientX; mouse.y=e.clientY; });

function getColorsByHour(){
  const h=new Date().getHours();
  if(h>=6 && h<12) return ['#FFD700','#FFA500','#FFFF66']; // mañana
  else if(h>=12 && h<18) return ['#FF4500','#FF6347','#FF69B4']; // mediodía
  else return ['#8e2de2','#c33764','#4CAF50']; // noche
}

let colors=getColorsByHour();

/* Ondas tipo agua */
class Wave{ constructor(freq,amp,phase){ this.freq=freq; this.amp=amp; this.phase=phase; } }
const waves=[new Wave(0.008,20,0), new Wave(0.01,25,50), new Wave(0.012,15,100)];

/* Círculos suaves */
class Circle{
  constructor(){ this.reset(); }
  reset(){
    this.x=Math.random()*width;
    this.y=Math.random()*height;
    this.radius=15+Math.random()*40;
    this.speed=0.003+Math.random()*0.008;
    this.angle=Math.random()*Math.PI*2;
    this.color=colors[Math.floor(Math.random()*colors.length)];
  }
  update(time){
    let dx=(mouse.x-this.x)*0.0015;
    let dy=(mouse.y-this.y)*0.0015;
    let waveY=0;
    waves.forEach(w=>{ waveY+=Math.sin(this.x*w.freq+time*0.002+w.phase)*w.amp; });
    waveY/=waves.length;
    this.x+=Math.cos(this.angle+time*0.0001)*this.speed*50+dx;
    this.y+=Math.sin(this.angle+time*0.0001)*this.speed*50+dy+waveY*0.03;
    if(this.x-this.radius>width||this.x+this.radius<0||this.y-this.radius>height||this.y+this.radius<0) this.reset();
  }
  draw(){ ctx.beginPath(); ctx.arc(this.x,this.y,this.radius,0,Math.PI*2); ctx.fillStyle=this.color+'50'; ctx.fill(); }
}

const circles=[];
for(let i=0;i<30;i++) circles.push(new Circle());

/* Dibujar ondas */
function drawWaves(time){
  ctx.globalAlpha=0.2;
  waves.forEach(w=>{
    ctx.beginPath();
    for(let i=0;i<width;i++){
      let y=height*0.85+Math.sin(i*w.freq+time*0.002+w.phase)*w.amp;
      if(i===0) ctx.moveTo(i,y);
      else ctx.lineTo(i,y);
    }
    ctx.lineTo(width,height);
    ctx.lineTo(0,height);
    ctx.closePath();
    ctx.fillStyle=colors[0]+'20';
    ctx.fill();
  });
  ctx.globalAlpha=1;
}

function animate(time){
  ctx.clearRect(0,0,width,height);
  drawWaves(time);
  circles.forEach(c=>{ c.update(time); c.draw(); });
  requestAnimationFrame(animate);
}
requestAnimationFrame(animate);
</script>

</body>
</html>
